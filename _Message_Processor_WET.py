import os
import glob

input_file = "test.txt"
dictionary = "dictionary.csv"
output_file = open(os.path.splitext(input_file)[0] + "_translated.txt", "w+")


with open(input_file, "r+") as f:
    content = f.readlines()
#    print(content)


# https://stackoverflow.com/questions/49140822/attributeerror-io-textiowrapper-object-has-no-attribute-append
for line in content:
    if line.startswith("EB"):
        line = line.replace("EB*", "BENEFITS: *")
        line = line.replace("^1^", "^Medical Care^")
        line = line.replace("^2^", "^Surgical^")
        line = line.replace("^3^", "^Consultation^")
        line = line.replace("^4^", "^Diagnostic X-Ray^")
        line = line.replace("^5^", "^Diagnostic Lab^")
        line = line.replace("^6^", "^Radiation Therapy^")
        line = line.replace("^7^", "^Anesthesia^")
        line = line.replace("^8^", "^Surgical Assistance^")
        line = line.replace("^10", "^Blood^")  # Removed ^
        line = line.replace("^11^", "^Durable Medical Equipment Used^")
        line = line.replace("^12^", "^Durable Medical Equipment Purchased^")
        line = line.replace("^14^", "^Renal Supplies^")
        line = line.replace("^17^", "^Pre-Admission Testing^")
        line = line.replace("^18^", "^Durable Medical Equipment Rental^")
        line = line.replace("^19^", "^Pneumonia Vaccine^")
        line = line.replace("^20^", "^Second Surgical Opinion^")
        line = line.replace("^21^", "^Third Surgical Opinion^")
        line = line.replace("^22^", "^Social Work^")
        line = line.replace("^23^", "^Diagnostic Dental^")
        line = line.replace("^24^", "^Periodontics^")
        line = line.replace("^25^", "^Restorative^")
        line = line.replace("^26^", "^Endodontics^")
        line = line.replace("^27^", "^Maxillofacial Prosthetics^")
        line = line.replace("^28^", "^Adjunctive Dental Services^")
        line = line.replace("*30^", "^Health Benefit Plan Coverage^")  # Asterisk
        line = line.replace("^30^", "^Health Benefit Plan Coverage^")
        line = line.replace("^32^", "^Plan Waiting Period^")
        line = line.replace("^33^", "^Chiropractic^")
        line = line.replace("^35^", "^Dental Care^")
        line = line.replace("^36^", "^Dental Crowns^")
        line = line.replace("^37^", "^Dental Accident^")
        line = line.replace("^38^", "^Orthodontics^")
        line = line.replace("^39^", "^Prosthodontics^")
        line = line.replace("^40^", "^Oral Surgery^")
        line = line.replace("^41^", "^Preventive Dental^")
        line = line.replace("^42^", "^Home Health Care^")
        line = line.replace("^43^", "^Home Health Prescriptions^")
        line = line.replace("^45^", "^Hospice^")
        line = line.replace("^46^", "^Respite Care^")
        line = line.replace("^47^", "^Hospitalization^")
        line = line.replace("^49^", "^Hospital - Room and Board^")
        line = line.replace("^54^", "^Long Term Care^")
        line = line.replace("^55^", "^Major Medical^")
        line = line.replace("^56^", "^Medically Related Transportation^")
        line = line.replace("^60^", "^General Benefits^")
        line = line.replace("^61^", "^In-vitro Fertilization^")
        line = line.replace("^62^", "^MRI Scan^")
        line = line.replace("^63^", "^Donor Procedures^")
        line = line.replace("^64^", "^Acupuncture^")
        line = line.replace("^65^", "^Newborn Care^")
        line = line.replace("^66^", "^Pathology^")
        line = line.replace("^67^", "^Smoking Cessation^")
        line = line.replace("^68^", "^Well Baby Care^")
        line = line.replace("^69^", "^Maternity^")
        line = line.replace("^70^", "^Transplants^")
        line = line.replace("^71^", "^Audiology^")
        line = line.replace("^72^", "^Inhalation Therapy^")
        line = line.replace("^73^", "^Diagnostic Medical^")
        line = line.replace("^74^", "^Private Duty Nursing^")
        line = line.replace("^75^", "^Prosthetics^")
        line = line.replace("^76^", "^Dialysis^")
        line = line.replace("^77^", "^Otology^")
        line = line.replace("^78^", "^Chemotherapy^")
        line = line.replace("^79^", "^Allergy Testing^")
        line = line.replace("^80^", "^Immunizations^")
        line = line.replace("^81^", "^Routine Physical^")
        line = line.replace("^82^", "^Family Planning^")
        line = line.replace("^83^", "^Infertility^")
        line = line.replace("^84^", "^Abortion^")
        line = line.replace("^85^", "^HIV - AIDS Treatment^")
        line = line.replace("^86^", "^Emergency Services^")
        line = line.replace("^87^", "^Cancer Treatment^")
        line = line.replace("^88^", "^Retail/Independent Pharmacy^")
        line = line.replace("^89^", "^Free Standing Prescription Drug^")
        line = line.replace("^90^", "^Mail Order Pharmacy^")
        line = line.replace("^91^", "^Brand Name Prescription Drug^")
        line = line.replace("^92^", "^Generic Prescription Drug^")
        line = line.replace("^93^", "^Podiatry^")
        line = line.replace("^98^", "^Professional (Physician) Visit - Office_^")
        line = line.replace("^A4^", "^Psychiatric^")
        line = line.replace("^A6^", "^Psychotherapy^")
        line = line.replace("^A7^", "^Psychiatric - Inpatient^")
        line = line.replace("^A8^", "^Psychiatric - Outpatient^")
        line = line.replace("^A9^", "^Rehabilitation^")
        line = line.replace("^AB^", "^Rehabilitation - Inpatient^")
        line = line.replace("^AC^", "^Rehabilitation - Outpatient^")
        line = line.replace("^AD^", "^Occupational Therapy^")
        line = line.replace("^AE^", "^Physical Medicine^")
        line = line.replace("^AF^", "^Speech Therapy^")
        line = line.replace("^AG^", "^Skilled Nursing Care^")
        line = line.replace("^AI^", "^Substance Abuse^")
        line = line.replace("^AJ^", "^Alcoholism Treatment^")
        line = line.replace("^AK^", "^Drug Addiction^")
        line = line.replace("^AL^", "^Optometry^")
        line = line.replace("^AM^", "^Frames^")
        line = line.replace("^AO^", "^Lenses^")
        line = line.replace("^AP^", "^Routine Eye Exam^")
        line = line.replace("^AQ^", "^Nonmedically Necessary Physical^")
        line = line.replace("^AR^", "^Experimental Drug Therapy^")
        line = line.replace("^B1^", "^Burn Care^")
        line = line.replace("^B2^", "^Brand Name Prescription Drug - Formulary^")
        line = line.replace("^B3^", "^Brand Name Prescription Drug - Non-Formulary^")
        line = line.replace("^BA^", "^Independent Medical Evaluation^")
        line = line.replace("^BB^", "^Psychiatric Treatment Partial Hospitalization^")
        line = line.replace("^BC^", "^Day Care (Psychiatric)^")
        line = line.replace("^BD^", "^Cognitive Therapy^")
        line = line.replace("^BE^", "^Massage Therapy^")
        line = line.replace("^BF^", "^Pulmonary Rehabilitation^")
        line = line.replace("^BG^", "^Cardiac Rehabilitation^")
        line = line.replace("^BH^", "^Pediatric^")
        line = line.replace("^BI^", "^Nursery Room and Board^")
        line = line.replace("^BK^", "^Orthopedic^")
        line = line.replace("^BL^", "^Cardiac^")
        line = line.replace("^BM^", "^Lymphatic^")
        line = line.replace("^BN^", "^Gastrointestinal^")
        line = line.replace("^BP^", "^Endocrine^")
        line = line.replace("^BQ^", "^Neurology^")
        line = line.replace("^BT^", "^Gynecological^")
        line = line.replace("^BU^", "^Obstetrical^")
        line = line.replace("^BV^", "^Obstetrical/Gynecological^")
        line = line.replace("^BY^", "^Physician Visit - Sick^")
        line = line.replace("^BZ^", "^Physician Visit - Well^")
        line = line.replace("^C1^", "^Coronary Care^")
        line = line.replace("^CK^", "^Screening X-ray^")
        line = line.replace("^CL^", "^Screening laboratory^")
        line = line.replace("^CM^", "^Mammogram - High Risk Patient")
        line = line.replace("^CN^", "^Mammogram - Low Risk Patient")
        line = line.replace("^CO^", "^Flu Vaccination^")
        line = line.replace("^CP^", "^Eyewear Accessories^")
        line = line.replace("^CQ^", "^Case Management^")
        line = line.replace("^DG^", "^Dermatology^")
        line = line.replace("^DM^", "^Durable Medical Equipment^")
        line = line.replace("^DS^", "^Diabetic Supplies^")
        line = line.replace("^E0^", "^Applied Behavioral Analysis Therapy^")
        line = line.replace("^E1^", "^Non-Medical Equipment^")
        line = line.replace("^E2^", "^Psychiatric Emergency^")
        line = line.replace("^E3^", "^Step Down Unit^")
        line = line.replace("^E4^", "^SNF Head Level of Care^")
        line = line.replace("^E5^", "^SNF Ventilator Level of Care^")
        line = line.replace("^E6^", "^Level of Care 1^")
        line = line.replace("^E7^", "^Level of Care 2^")
        line = line.replace("^E8^", "^Level of Care 3^")
        line = line.replace("^E9^", "^Level of Care 4^")
        line = line.replace("^E10^", "^Radiographs^")
        line = line.replace("^E11^", "^Diagnostic Imaging^")
        line = line.replace("^E14^", "^Fixed Prosthodontics^")
        line = line.replace("^E15^", "^Removable Prosthodontics^")
        line = line.replace("^E16^", "^Intraoral Images - Complete Series^")
        line = line.replace("^E17^", "^Oral Evaluation^")
        line = line.replace("^E18^", "^Dental Prophylaxis^")
        line = line.replace("^E19^", "^Panoramic Images^")
        line = line.replace("^E20^", "^Sealants^")
        line = line.replace("^E21^", "^Fluoride Treatments^")
        line = line.replace("^E22^", "^Dental Implants^")
        line = line.replace("^E23^", "^Temporomandibular Joint Dysfunction^")
        line = line.replace("^E25^", "^Long Term Care Pharmacy^")
        line = line.replace("^E26^", "^Comprehensive Medication Therapy Management Review^")
        line = line.replace("^E27^", "^Targeted Medication Therapy Management Review^")
        line = line.replace("^E28^", "^Dietary/Nutritional Services^")
        line = line.replace("^E33^", "^Intensive Cardiac Rehabilitation^")
        line = line.replace("^E36^", "^Convenience Care^")
        line = line.replace("^E37^", "^Telemedicine^")
        line = line.replace("^E38^", "^Pharmacist Services^")
        line = line.replace("^E39^", "^Diabetic Education^")
        line = line.replace("^E40^", "^Early Intervention^")
        line = line.replace("^EA^", "^Preventive Services^")
        line = line.replace("^EC^", "^Durable Medical Equipment New^")
        line = line.replace("^ED^", "^CAT Scan^")
        line = line.replace("^EE^", "^Ophthalmology^")
        line = line.replace("^EF^", "^Contact Lenses^")
        line = line.replace("^F1^", "^Medical Coverage^")
        line = line.replace("^F2^", "^Social Work Coverage^")
        line = line.replace("^F3^", "^Dental Coverage^")
        line = line.replace("^F4^", "^Hearing Coverage^")
        line = line.replace("^F5^", "^Prescription Drug Coverage^")
        line = line.replace("^F6^", "^Vision Coverage^")
        line = line.replace("^F7^", "^Orthodontia Coverage^")
        line = line.replace("^F8^", "^Mental Health Coverage^")
        line = line.replace("^GF^", "^Generic Prescription Drug - Formulary^")
        line = line.replace("^GN^", "^Generic Prescription Drug - Non-Formulary^")
        line = line.replace("^GY^", "^Allergy^")
        line = line.replace("^IC^", "^Intensive Care^")
        line = line.replace("^MH^", "^Mental Health^")
        line = line.replace("^NI^", "^Neonatal Intensive Care^")
        line = line.replace("^ON^", "^Oncology^")
        line = line.replace("^PE^", "^Positron Emission Tomography (PET) Scan^")
        line = line.replace("^PT^", "^Physical Therapy^")
        line = line.replace("^PU^", "^Pulmonary^")
        line = line.replace("^RN^", "^Renal^")
        line = line.replace("^RT^", "^Residential Psychiatric Treatment^")
        line = line.replace("^SMH^", "^Serious Mental Health^")
        line = line.replace("^TC^", "^Transitional Care^")
        line = line.replace("^TN^", "^Transitional Nursery Care^")
        line = line.replace("^UC^", "^Urgent Care^")
        output_file.write("\t{}\n".format(line))
    if line.startswith("DTP"):
        line = line.replace("DTP", "DATE: ")
        output_file.write(line)

output_file.close()
